<script>
    var submit = () => {
        let body = {
            command: "createTeam",
            teamNumber: Number(teamNum.value),
            teamName: teamName.value
        }
        fetch('/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                }, body: JSON.stringify(body)
            }).then(data => data.text())
                .then(html => { 
                    let d = new Date();
                    console.log(html);
                    if (html === "teamMade") 
                        alert("Team already created");
                    else if (html === "teamNameTaken") 
                        alert("Team name taken");
                    else if (html === "teamNumberInvalid")
                        alert("Not a valid team number!");
                    else if (html === "tooLong")
                        alert("Team name is too long (>10)");
                    else {
                        d.setTime(d.getTime() + 86400000);
                        document.cookie = `teamNumber=${teamNum.value}; expires=${d.toUTCString()}; path=/`;
                        console.log(document.cookie);
                        replaceInnards(html); 
                    }
                });
    }
</script>
<style>

</style>


<div>
    <div style="display: flex; flex-direction: column; margin: 20px; border-radius: 5px; border: 2px solid #000000;">
        <h1 style="width: 100%; text-align: center; font-family: PNSB; font-size: 3rem;">Defuse the <br/> Bomb!</h1>
        <h2 style="width: 100%; text-align: center; font-family: PNSB; font-size: 2rem;">Team number</h2>
        <input type="text" id="teamNum" style="width:70%; margin: auto; aspect-ratio: 5; font-size: 2rem;">
        <h2 style="width: 100%; text-align: center; font-family: PNSB; font-size: 2rem;">Team name</h2>
        <input type="text" id="teamName" style="width:70%; margin: auto; aspect-ratio: 5; font-size: 2rem;">
        <input type="button" value="Submit" onclick="submit()" style="width:70%; margin: auto; aspect-ratio: 5; margin-top: 15px; font-size: 2rem;">
    </div>
</div>